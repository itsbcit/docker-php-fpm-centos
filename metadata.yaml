---
maintainer: 'jesse@weisner.ca, chriswood.ca@gmail.com, jonathan_zhao@bcit.ca'
registries:
  - url: bcit.io
labels:
  php_version: '<%= vars["php_version"] %>'
  centos_version: '<%= vars["centos_version"] %>'
base_tags: []
tags:
  - '<%= tag_join(vars["php_version"], variant, "centos", build_suffix) %>'
  - '<%= tag_join(vars["php_version"], variant, "thicc", build_suffix) %>'
  - '<%= tag_join(vars["php_version"], variant, "centos", "latest") %>'
  - '<%= tag_join(vars["php_version"], variant, "thicc", "latest") %>'
  - '<%= tag_join(vars["php_version"], variant, "centos") %>'
  - '<%= tag_join(vars["php_version"], variant, "thicc") %>'
  - '<%= tag_join(version, variant, "centos", "latest") %>'
  - '<%= tag_join(version, variant, "thicc", "latest") %>'
  - '<%= tag_join(version, variant, "centos") %>'
  - '<%= tag_join(version, variant, "thicc") %>'
image_name: php-fpm
versions:
  '7.3':
    vars:
      oracle-instantclient_version: '19.6'
      remi_php_repo: '73'
      php_version: '7.3.33'
  '7.4':
    tags:
      - '7.4-latest'
      - '7.4-centos'
      - '7-latest'
      - '7-centos'
      - 'centos'
      - 'latest'
    vars:
      oracle-instantclient_version: '19.6'
      remi_php_repo: '74'
      php_version: '7.4.27'
vars:
  centos_version: '7'
  centos_tag: '7-latest'
  timezone: 'America/Vancouver'
  php_extensions:
    - fpm
    - gmp
    - mbstring
    - mysqlnd
    - pdo
    - pgsql
    - soap
    - sodium
    - xml
  php_pecl:
    - igbinary
    - memcached
    - redis
    - xdebug
    - yaml
  disable_ext:
    - ftp
    - ldap
    - gd
    - enchant
    - odbc
    - xdebug
variants:
  '':
  # 'oci':
  #   registries:
  #     - url: artifactory.tis.bcit.ca:5000
  #   php_extentions:
  #     - oci8
